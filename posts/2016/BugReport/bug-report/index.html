<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bug Report | Pengyin Shan's Note</title>
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">
<link rel="canonical" href="http://pengyin-shan.com/posts/2016/BugReport/bug-report/">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Pengyin Shan">
<meta name="robots" content="noindex">
<meta property="og:site_name" content="Pengyin Shan's Note">
<meta property="og:title" content="Bug Report">
<meta property="og:url" content="http://pengyin-shan.com/posts/2016/BugReport/bug-report/">
<meta property="og:description" content="Recently I read a post aout Learning from Your Bugs, written by Henrik Warne. This post mentions the importance of record and learning from the bug. I would like to follow it.


[TOC]
Template
Date:
2">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-06-30T00:00:00-04:00">
<meta property="article:tag" content="Bug Report">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://pengyin-shan.com/">

                <span id="blog-title">Pengyin Shan's Note</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../../archive.html">Archive</a>
                </li>
<li>
<a href="../../../../categories/">Tags</a>
                </li>
<li>
<a href="../../../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.mdown" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Bug Report</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Pengyin Shan
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2016-06-30T00:00:00-04:00" itemprop="datePublished" title="2016-06-30 00:00">2016-06-30 00:00</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/2016/BugReport/bug-report.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.mdown" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Recently I read a <a href="https://henrikwarne.com/2016/04/28/learning-from-your-bugs/">post aout Learning from Your Bugs</a>, written by <em>Henrik Warne</em>. This post mentions the importance of record and learning from the bug. I would like to follow it.</p>
<!-- PELICAN_END_SUMMARY -->

<p>[TOC]</p>
<h2>Template</h2>
<pre class="code literal-block"><span></span>Date:
2004-08-17

Symptom:
Infinite loop when decoding Q.931 message

Cause:
When an unknown element id is found in a Q.931 message, we try
to skip it by reading the length, and advancing the pos pointer
that many bytes. However, in this case the length was zero,
causing us to try to skip the same element id over and over.

How found:
This happened during parsing of a setup message taken from an
Ethereal trace from Nortel. Their message was 1016 bytes long
(it included a lot of fast start elements), but our MSG_MAX_LEN
was 1000. Normally we then receive a truncated message from
common/Communication.cxx, but now, when fed directly in to be
parsed, memory past the end of the array was accessed, and it
happened to be zero, exposing this problem.
To find it, I just added a few print outs in the q931 parsing
code. But it was lucky that the data happened to be zero.

Fix:
If the length given is zero, set it to one. This way we always
move forward.

Fixed in file(s):
callh/q931_msg.cxx

Caused by me:
Yes

Time taken to resolve bug:
1 hour

Lessons:
Trusted the data received in an incoming message. It's not
just giving huge numbers that can cause problems. Indicating
a length of zero could be just as bad.
</pre>


<h2>2016-06-30</h2>
<h3>Symption</h3>
<p>In cascade server, I don't know how to refer to another file in
distinct javascript file.</p>
<h3>Cause</h3>
<p>When using <code>sass.sync.js</code>, I need to refer external <code>scss</code> file in a distinct JavaScript file</p>
<h3>How Found</h3>
<p>When I tried to learn <code>sass.js</code> to write a simple SASS compile inside cascade server, with Apache Velocity involved in.</p>
<p>Problem code part:</p>
<pre class="code literal-block"><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">basic</span> <span class="o">=</span> <span class="s2">"../../../sass"</span><span class="p">;</span> <span class="c1">//How to refer this in cascade?</span>
    <span class="kd">var</span> <span class="nx">directory</span> <span class="o">=</span> <span class="s2">"../../../css"</span><span class="p">;</span> <span class="c1">//There is always a `sass` directory at the beginning of referencing directory</span>
    <span class="kd">var</span> <span class="nx">files</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">'_basics.scss'</span>
        <span class="p">];</span>
    <span class="nx">Sass</span><span class="p">.</span><span class="nx">preloadFiles</span><span class="p">(</span><span class="nx">basic</span><span class="p">,</span> <span class="nx">directory</span><span class="p">,</span> <span class="nx">files</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'files loaded'</span><span class="p">)</span> <span class="p">});</span>
</pre>


<h3>Fix</h3>
<h3>Fix in file(s)</h3>
<h3>Caused by me</h3>
<p>Yes</p>
<h3>Time taken to resolve bug</h3>
<p>Around 1 day</p>
<h3>Lessons</h3>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../categories/bug-report/" rel="tag">Bug Report</a></li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="pengyinnote",
            disqus_url="http://pengyin-shan.com/posts/2016/BugReport/bug-report/",
        disqus_title="Bug Report",
        disqus_identifier="cache/posts/2016/BugReport/bug-report.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="pengyinnote";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents Â© 2016         <a href="mailto:shanpy901115@gmail.com">Pengyin Shan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
